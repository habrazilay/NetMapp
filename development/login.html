<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>NetMapp - Network Mapping Application </title>

    <!-- validator fv.css -->
    <link rel="stylesheet" href="../vendors/validator/fv.css" type="text/css" />
	<!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"-->
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- Animate.css -->
	<link href="../vendors/animate.css/animate.min.css" rel="stylesheet">
    <!-- link href="https://colorlib.com/polygon/gentelella/css/animate.min.css" rel="stylesheet" -->
	<!-- PNotify -->
    <link href="../vendors/pnotify/dist/pnotify.css" rel="stylesheet">
    <link href="../vendors/pnotify/dist/pnotify.buttons.css" rel="stylesheet">
    <link href="../vendors/pnotify/dist/pnotify.nonblock.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">
	
  </head>

  <body class="login">
    <div>
      <a class="hiddenanchor" id="signup"></a>
      <a class="hiddenanchor" id="signin"></a>

      <div class="login_wrapper">
        <div class="animate form login_form">
          <section class="login_content">
            <form action="index.php" method="post">
              <h1>Login Form</h1>
            
                <input type="text" class="form-control" name="user_name" placeholder="Username" required="" />
                <input type="password" class="form-control" name="user_password" placeholder="Password" required="" />
             	<input type="hidden" name="login" value="Log in"/>
                <input type="submit" class="btn btn-default submit" name="login" value="Log in"/>
                <a class="reset_pass" href="#">Lost your password?</a>
             

              <div class="clearfix"></div>

              <div class="separator">
                <p class="change_link">New to site?
                  <a href="#signup" class="to_register"> Create an Account </a>
                </p>

                <div class="clearfix"></div>
                <br />

                <div>
                  <h1><i class="fa fa-sitemap"></i> NetMapp - Network Mapping Application</h1>
                  <p>NetMapp 2016 - All Rights Reserved.</p>
                </div>
              </div>
            </form>
          </section>
        </div>

        <div id="register" class="animate form registration_form">
		 <section class="login_content">
          <!--section class="login_content"-->
            <form class="form-horizontal" action="index.php" method="post" novalidate>
              <h1>Create an Account</h1>
				  <div class="item form-group">  
					  <label class="register_label">
							<input id="user_name" name="user_name" type="text" data-validate-pattern="alphanumeric" placeholder="Username" required="required" />
					  </label>
					  <div class='valtooltip help'>
							<span>?</span>
							<div class='content'>
								<b></b>
								<p>only characters and digits allowed</p>
							</div>
					  </div>
				  </div>
				  <div class="item form-group">
					  <label class="register_label">
						<input id="user_email" name="user_email" type="email" placeholder="Email" required="required" />
					  </label>
					  <div class='valtooltip help'>
							<span>?</span>
							<div class='content'>
								<b></b>
								<p>Enter a valid email address</p>
							</div>
					  </div>
				  </div>
				  <div class="item form-group">
					  <label class="register_label">
						<input name="user_password_new" type="password" data-validate-strong-password="enforce" placeholder="Password" required="required" />
					  </label>
					  <div class='valtooltip help'>
							<span>?</span>
							<div class='content'>
								<b></b>
								<p>password must contain atleast 8 character, with atleast one of each of the following: <br>-Uppercase-letter <br>-lowercase-letter <br>-digit <br>-special character (!,@,#,$,&,*)</p>
							</div>
					  </div>
				  </div>
				  <div class="item form-group">
					  <label class="register_label">
						<input name="user_password_repeat" type="password" data-validate-linked='user_password_new' placeholder="Repeat password" required="required" />
					  </label>
				  </div>
              <div class="item form-group">
              	<input type="hidden" name="register" value="Register"/>
                <button id="send" type="submit" class="btn btn-default submit" name="register">Register</button>
              </div>

              <div class="clearfix"></div>

              <div class="separator">
                <p class="change_link">Already a member ?
                  <a href="#signin" class="to_register"> Log in </a>
                </p>

                <div class="clearfix"></div>
                <br />

                <div>
                  <h1><i class="fa fa-sitemap"></i> NetMapp - Network Mapping Application</h1>
                  <p>Â©2016 All Rights Reserved.</p>
                </div>
              </div>
            </form>
          <!--/section-->
		 </section>
        </div>
      </div>
    </div>
    
    <!-- jQuery -->
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
    <!-- validator -->
	<script src="../vendors/validator/validator.js"></script>
	<!-- PNotify -->
    <script src="../vendors/pnotify/dist/pnotify.js"></script>
    <script src="../vendors/pnotify/dist/pnotify.buttons.js"></script>
    <script src="../vendors/pnotify/dist/pnotify.nonblock.js"></script>
	<script>
		$('form')
			.on('blur', 'input[required], input.optional, select.required', validator.checkField)
			.on('change', 'select.required', validator.checkField)
			.on('keypress', 'input[required][pattern]', validator.keypress);

		
		$('form').submit(function(e){
			e.preventDefault();
			var submit = true;

			// Validate the form using generic validaing
			if( !validator.checkAll( $(this) ) ){
				submit = false;
			}

			if( submit )
				this.submit();

			return false;
		});
		var loginErrors = <?php echo (isset($login)) ? json_encode($login->errors) : '[]'; ?>;
		var loginMessages = <?php echo (isset($login)) ? json_encode($login->messages) : '[]'; ?>;
		var registerErrors = <?php echo (isset($registration)) ? json_encode($registration->errors) : '[]'; ?>;
		if (registerErrors.length != 0) window.location.href = "#signup";
		var registerMessages = <?php echo (isset($registration)) ? json_encode($registration->messages) : '[]'; ?>;
		
		loginErrors.forEach(function(error) {popNotify('Login Error', error ,'error');});
		loginMessages.forEach(function(msg) {popNotify('Login info', msg ,'success');});
		registerErrors.forEach(function(error) {popNotify('Registration Error', error ,'error');});
		registerMessages.forEach(function(msg) {popNotify('Registration info', msg ,'success');});
		
		function popNotify(title,message,type){
			new PNotify({
				title: title,
				text: message,
				type: type,
				styling: 'bootstrap3'
			});
		}	
		
	</script>
  </body>
</html>